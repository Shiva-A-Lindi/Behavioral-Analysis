

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Locomotion Task Analysis &mdash; Behavioral Analysis 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lever Reaching" href="../Lever Reaching/index.html" />
    <link rel="prev" title="Locomotion Code Doc" href="Code_doc_Locomotion.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Behavioral Analysis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Locomotion</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Code_doc_Locomotion.html">Locomotion Code Doc</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Locomotion Task Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-hierarchy">File hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jupyter-notebook">Jupyter notebook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-analysis">Data analysis</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lever Reaching/index.html">Lever Reaching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lever Reaching/Code_doc_Lever_Reaching.html">Lever Reaching Code Doc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lever Reaching/LED_detection.html">LED detection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Lever Reaching/LED_detection.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lever Reaching/LED_detection.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Lever Reaching/Lever_reaching.html">Lever Reaching Task Analysis</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Behavioral Analysis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Locomotion</a> &raquo;</li>
        
      <li>Locomotion Task Analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Projects/Locomotion/Locomotion_task.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="locomotion-task-analysis">
<h1>Locomotion Task Analysis<a class="headerlink" href="#locomotion-task-analysis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="file-hierarchy">
<h2>File hierarchy<a class="headerlink" href="#file-hierarchy" title="Permalink to this headline">¶</a></h2>
<p>The root directory to your project should have this hierarchy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>root
|-- Animal_Type_1               &lt;-- all data for one specific animal type e.g. &#39;FoxP2-Cre&#39;
|       |-- ChR2                        &lt;-- Optogenetic expression
|       |       |-- Animal_0            &lt;-- data for one animal in that animal type.
|       |       |       |-- Protocol_0  &lt;-- folders separate protocols e.g. &#39;Square_1_mW&#39;
|       |       |       |       |-- DLC &lt;-- contains body part trackings of all sessions derived from DLC
|       |       |       |       |       |-- session_0_DLC.xlsx
|       |       |       |       |       .
|       |       |       |       |       .
|       |       |       |       |-- Laser &lt;-- contains laser detection files
|       |       |       |               |-- session_0_laser.xlsx
|       |       |       |               |-- session_1_laser.xlsx
|       |       |       |               .
|       |       |       |               .
|       |       |       .
|       |       |       .
|       |       |       |-- Protocol_n
|       |       |       |
|       |       |       `-- Spontaneous &lt;-- Same everything just for Spontaneous sessions
|       |       |               `DLC &lt;-- only DLC folder since there&#39;s no laser
|       |       |
|       |       |-- Animal_1 &lt;-- same for all other animals
|       |       .
|       |       .
|       |       |
|       |       `-- Animal_n
|       `-- Control
|               |-- Animal_0
|               .
|               `-- Animal_m
|
|-- Animal_Type_1
|
|
|-- Animal_Type_n &lt;-- same for all other animal types
|
|-- data_npz
|       |-- Protocol_0
|       |       |-- ChR2
|       .       `-- Control
|       .
|       |
|       `-- Protocol_n
|
`-- Subplots
</pre></div>
</div>
</div>
<div class="section" id="jupyter-notebook">
<h2>Jupyter notebook<a class="headerlink" href="#jupyter-notebook" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/Shiva-A-Lindi/Behavioral-Analysis/tree/master/Locomotion">Here</a> you will find the jupyter notebook that contains different aspects of Locomotion task data analysis.</p>
<p>In the same location you would also find the <em>Locomotion.py</em> moodule used for this analysis. Here’s the <a class="reference external" href="https://shiva-a-lindi.github.io/Behavioral-Analysis/build/html/Projects/Locomotion/Code_doc_Locomotion.html">documentation</a> for its functions.</p>
<p>In order to start work on data analysis, you have to first fix some parameters specified under heading <strong>Constants</strong>:</p>
<p><code class="docutils literal notranslate"><span class="pre">video_height</span></code> : the height of video in pixels</p>
<p><code class="docutils literal notranslate"><span class="pre">video_width</span></code> : the width in pixels</p>
<p><code class="docutils literal notranslate"><span class="pre">fps</span></code> : number of frames per second of video</p>
<p><code class="docutils literal notranslate"><span class="pre">left_edge_x</span></code> : left end of treadmil in the frame in pixels</p>
<p><code class="docutils literal notranslate"><span class="pre">right_edge_x</span></code>  : right end of treadmil in the frame in pixels</p>
<p><code class="docutils literal notranslate"><span class="pre">treadmill_len</span></code> : True length of the treadmill in cm</p>
<p><code class="docutils literal notranslate"><span class="pre">elec_shock</span></code> : length of the electro shock section of the treadmil in cm</p>
<p><code class="docutils literal notranslate"><span class="pre">treadmil_velocity</span></code> : velocity of the treadmill during task in cm/s</p>
<p><code class="docutils literal notranslate"><span class="pre">interval_in_sec</span></code> : duration of stimulation in sec</p>
<p><code class="docutils literal notranslate"><span class="pre">pre_stim_interval</span></code> : pre stimulus interval in sec for looking at x ,v and acceleration</p>
<p><code class="docutils literal notranslate"><span class="pre">pre_stim_interval_measure</span></code> : pre stimulus interval in seconds for the laser-OFF epoch before laser</p>
<p><code class="docutils literal notranslate"><span class="pre">post_stim_interval_measure</span></code> : pre stimulus interval in seconds for the laser-OFF epoch after stimulation</p>
<p><code class="docutils literal notranslate"><span class="pre">n_timebin</span></code> : number of frames for diffrentriation of position to yield velocity</p>
<p><code class="docutils literal notranslate"><span class="pre">window_pos</span></code> : moving average window for position curve smoothing</p>
<p><code class="docutils literal notranslate"><span class="pre">window_veloc</span></code> : moving average window for velocity curve smoothing</p>
<p><code class="docutils literal notranslate"><span class="pre">max_speed</span></code> : the presumed max speed of the animal to use for misdetections</p>
<p><code class="docutils literal notranslate"><span class="pre">mouse_no_dict</span></code> : Animal number dictionary. Every item is a tuple of two lists, first element represents <em>ChR2</em> animals and second element the <em>Control</em>
e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;D2&#39;</span> <span class="p">:</span> <span class="p">([</span><span class="mi">156</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">195</span><span class="p">,</span> <span class="mi">196</span><span class="p">,</span> <span class="mi">198</span><span class="p">,</span> <span class="mi">199</span><span class="p">],[</span><span class="mi">172</span><span class="p">,</span> <span class="mi">178</span><span class="p">]),</span>
<span class="s1">&#39;Vglut2&#39;</span><span class="p">:([</span><span class="mi">116</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">166</span><span class="p">],[</span><span class="mi">359</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="s1">&#39;FoxP2&#39;</span><span class="p">:([</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">27</span><span class="p">],[</span><span class="mi">23</span><span class="p">,</span> <span class="mi">26</span><span class="p">])}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pre_direct</span></code> : path to the root directory shown above</p>
<div class="section" id="data-analysis">
<h3>Data analysis<a class="headerlink" href="#data-analysis" title="Permalink to this headline">¶</a></h3>
<p>We first extract sessions from the readings obtained from the DeepLabCut package :</p>
<a class="reference internal image-reference" href="../../_images/Locomotion_position.png"><img alt="../../_images/Locomotion_position.png" class="align-center" src="../../_images/Locomotion_position.png" style="width: 480.0px; height: 320.0px;" /></a>
<p>Where the blue shades show the intervals with laser stimulation.</p>
<p>We then extract all the windows that contain a certain period (<code class="docutils literal notranslate"><span class="pre">pre_stim_interval_measure</span></code>) before laser onset, the duration of laser and (<code class="docutils literal notranslate"><span class="pre">interval_in_sec</span></code>) and a period after (<code class="docutils literal notranslate"><span class="pre">post_stim_interval_measure</span></code>).</p>
<a class="reference internal image-reference" href="../../_images/Average_trials.png"><img alt="../../_images/Average_trials.png" class="align-center" src="../../_images/Average_trials.png" style="width: 499.79999999999995px; height: 336.0px;" /></a>
<p>If the experimenter has provided sessions with no laser stimulation (blak like, here addressed as <em>Spontaneous</em>), we extraced the same number of trials from those sessions and plots them together to have an internal control.</p>
<dl class="simple">
<dt>You will find the chance to assess your data through a variety of options:</dt><dd><ul class="simple">
<li><p>look at single trials of specific animals,</p></li>
<li><p>averages of all or specific sessions for individual animals and all the animals at once.</p></li>
<li><p>You would also be able to categorize trials based on their charecteristics in the miliseconds prior to lase stimulation to see how the intial conditions would change the behavior during laser stimulation.</p></li>
<li><p>compare average of a chosen measure <em>position</em>, <em>velocity</em> or acceleration within an animal type group or between groups or for different animal groups with different optogenetic expression</p></li>
<li><p>distribution of pre laser position for individual animals</p></li>
<li><p>Compare the effect of simultaneous or separate laser stimulation in different brain areas within the same animal group e.g. stimulation of Subthalamic nucleus and External Globus Pallidus in Vglut2-Cre transgenic animals.</p></li>
</ul>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Lever Reaching/index.html" class="btn btn-neutral float-right" title="Lever Reaching" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Code_doc_Locomotion.html" class="btn btn-neutral float-left" title="Locomotion Code Doc" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shiva A. Lindi

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>